(function(e){function t(t){for(var n,o,r=t[0],u=t[1],l=t[2],c=0,h=[];c<r.length;c++)o=r[c],i[o]&&h.push(i[o][0]),i[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);v&&v(t);while(h.length)h.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,o=1;o<a.length;o++){var u=a[o];0!==i[u]&&(n=!1)}n&&(s.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},i={app:0},s=[];function o(e){return r.p+"js/"+({about:"about"}[e]||e)+"."+{about:"2fee8d73"}[e]+".js"}function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(e){var t=[],a=i[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise(function(t,n){a=i[e]=[t,n]});t.push(a[2]=n);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.src=o(e),s=function(t){u.onerror=u.onload=null,clearTimeout(l);var a=i[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+n+": "+s+")");o.type=n,o.request=s,a[1](o)}i[e]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:u})},12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var v=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("64a9"),i=a.n(n);i.a},"09f8":function(e,t,a){"use strict";var n=a("c0db"),i=a.n(n);i.a},4075:function(e,t,a){"use strict";var n=a("efeb"),i=a.n(n);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],o=(a("034f"),a("2877")),r={},u=Object(o["a"])(r,i,s,!1,null,null,null);u.options.__file="App.vue";var l=u.exports,c=a("8c4f"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("Game2048")],1)},h=[],m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"game"},[a("gameMenu",{attrs:{gameOver:e.gameOver},on:{"new-game":function(t){e.newGame()}}}),a("div",{staticClass:"game-container"},[a("transition-group",{staticClass:"board",attrs:{name:"tile",tag:"div"}},e._l(e.board,function(e){return a("tile",{key:e.id,attrs:{tile:e}})}),1),a("div",{directives:[{name:"pan",rawName:"v-pan",value:e.onPan,expression:"onPan"}],staticClass:"board shadow-board"},e._l(e.board.length,function(e){return a("div",{key:e,staticClass:"tile shadow-tile"})}),0)],1)],1)},f=[],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tile",class:{"tile-empty":e.emptyTile},style:{backgroundColor:e.backgroundColor}},[e._v("\n  "+e._s(e.displayingValue)+"\n")])},p=[],g=(a("6b54"),a("589d")),b=a.n(g),w={name:"tile",props:{tile:{type:Object,required:!0}},data:function(){return{colors:["","#90CCC8","#90C2CE","#8FB2D1","#8FA1D3","#8F8ED6","#A28DD8","#B78CDB","#CE8CDD","#E08BD9","#E28AC3","#E589AC","#E78792","#EA9686","#ECB185","#EFCE84","#F1ED82"]}},watch:{value:function(e,t){var a=this;e>t&&setTimeout(function(){b()(a.$el,{scale:1.2},{duration:50,complete:function(){b()(a.$el,{scale:1},{duration:50})}})},50)}},computed:{value:function(){return this.tile.value},displayingValue:function(){return this.value>0?this.value:null},emptyTile:function(){return null===this.displayingValue},backgroundColor:function(){return this.colors[this.value.toString(2).length-1]}}},C=w,_=(a("ff46"),Object(o["a"])(C,d,p,!1,null,"46cf83a8",null));_.options.__file="tile.vue";var y=_.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gameMenu"},[a("div",{staticClass:"row"},[a("div",{staticClass:"title"},[e._v("2048")]),a("div",{staticClass:"scores space-right"},[a("div",{staticClass:"score"},[a("div",{staticClass:"score-title"},[e._v("SCORE")]),a("div",{staticClass:"score-value"},[e._v(e._s(e.animatedScore))]),a("transition-group",{staticClass:"points",attrs:{name:"points",tag:"div"}},e._l(e.pointsIncrease,function(t,n){return a("div",{key:n+0},[e._v("+ "+e._s(t))])}),0)],1),a("div",{staticClass:"score"},[a("div",{staticClass:"score-title"},[e._v("BEST")]),a("div",{staticClass:"score-value"},[e._v(e._s(e.animatedBest))])])])]),a("a",{staticClass:"button space-right",on:{click:function(t){e.newGame()}}},[e._v("New Game")]),a("transition",{attrs:{name:"fade"}},[e.gameOver?a("div",{staticClass:"modal"},[a("h1",[e._v("Game Over!")]),a("a",{staticClass:"button button-black",on:{click:function(t){e.newGame()}}},[e._v("Try again")])]):e._e()])],1)},S=[],O=a("3911"),D=a.n(O),E=a("2ef0"),T=a.n(E),B={name:"gameMenu",props:{gameOver:{type:Boolean,required:!0}},data:function(){return{animatedScore:0,animatedBest:0,pointsIncrease:[]}},watch:{score:function(e,t){var a=this;if(e>0){var n=T.a.cloneDeep(a.pointsIncrease);n.push(e-t),a.pointsIncrease=n}function i(){D.a.update()&&requestAnimationFrame(i)}new D.a.Tween({tweeningNumber:t}).easing(D.a.Easing.Quadratic.Out).to({tweeningNumber:e},500).onUpdate(function(){a.animatedScore=this.tweeningNumber.toFixed(0)}).start(),i()},pointsIncrease:function(e,t){var a=this;e.length>t.length&&setTimeout(function(){a.pointsIncrease.pop()},200)}},computed:{score:function(){return this.$store.state.score},best:function(){return this.$store.state.best}},methods:{newGame:function(){this.$store.state.best<this.$store.state.score&&(this.$store.dispatch("updateBest",this.$store.state.score),this.animatedBest=this.$store.state.best),this.$emit("new-game")}}},G=B,k=(a("09f8"),Object(o["a"])(G,L,S,!1,null,"cd03aaf2",null));k.options.__file="gameMenu.vue";var A=k.exports,$=(a("6762"),a("2fdb"),{data:function(){return{mergeAnimationsList:[],slideAnimationsList:[],mergeGameStateList:[],slideGameStateList:[]}},methods:{animate:function(){var e=this,t=this.mergeAnimationsList.length>0||this.slideAnimationsList.length>0;if(t){while(this.mergeAnimationsList.length>0){var a=this.mergeAnimationsList.splice(0,1)[0];this.updateScore(a),this.animateTiles(a)}while(this.slideAnimationsList.length>0){var n=this.slideAnimationsList.splice(0,1)[0];this.animateTiles(n)}setTimeout(function(){e.seedTwo()},100)}},animateTiles:function(e){var t=e.from,a=e.to,n=this.board[t],i=this.board[a];n.value=n.value+i.value,i.value=0,this.board.splice(t,1),this.board.splice(t,0,i),this.board.splice(a,1),this.board.splice(a,0,n)},updateScore:function(e){var t=e.from,a=e.to,n=this.board[t],i=this.board[a],s=n.value+i.value;this.$store.dispatch("updateScore",s)},getChangeLists:function(e){var t={};return"animate"===e?(t.merge=this.mergeAnimationsList,t.slide=this.slideAnimationsList):"gamestate"===e&&(t.merge=this.mergeGameStateList,t.slide=this.slideGameStateList),t},moveRight:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"animate",t=this.getChangeLists(e),a=T.a.cloneDeep(T.a.chunk(this.board,4)),n=0;n<a.length;n++)this.mergeRight(a,n,t),this.slideRight(a,n,t)},mergeRight:function(e,t,a){var n=e.length-2,i=e.length-1;while(n>=0)0===e[t][n].value&&0===e[t][i].value?(i--,n--):e[t][n].value===e[t][i].value?(a.merge.push({from:4*t+n,to:4*t+i}),e[t][i].value=e[t][n].value+e[t][i].value,e[t][n].value=0,i--,n--):0===e[t][i].value?(i--,n--):0!==e[t][n].value&&0!==e[t][i].value&&n+1===i?(i--,n--):0!==e[t][n].value&&0!==e[t][i].value?i--:0===e[t][n].value&&n--},slideRight:function(e,t,a){var n=e.length-2,i=e.length-1;while(n>=0)0!==e[t][i].value?(i--,n--):0!==e[t][i].value&&0!==e[t][n].value?(i--,n--):0===e[t][i].value&&0===e[t][n].value?n--:0===e[t][i].value&&0!==e[t][n].value&&(a.slide.push({from:4*t+n,to:4*t+i}),e[t][i].value=e[t][n].value+e[t][i].value,e[t][n].value=0,i--,n--)},moveLeft:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"animate",t=this.getChangeLists(e),a=T.a.cloneDeep(T.a.chunk(this.board,4)),n=0;n<a.length;n++)this.mergeLeft(a,n,t),this.slideLeft(a,n,t)},mergeLeft:function(e,t,a){var n=1,i=0;while(n<e.length)0===e[t][n].value&&0===e[t][i].value?(i++,n++):e[t][n].value===e[t][i].value?(a.merge.push({from:4*t+n,to:4*t+i}),e[t][i].value=e[t][n].value+e[t][i].value,e[t][n].value=0,i++,n++):0===e[t][i].value?(i++,n++):0!==e[t][n].value&&0!==e[t][i].value&&n-1===i?(i++,n++):0!==e[t][n].value&&0!==e[t][i].value?i++:0===e[t][n].value&&n++},slideLeft:function(e,t,a){var n=1,i=0;while(n<e.length)0!==e[t][i].value?(i++,n++):0!==e[t][i].value&&0!==e[t][n].value?(i++,n++):0===e[t][i].value&&0===e[t][n].value?n++:0===e[t][i].value&&0!==e[t][n].value&&(a.slide.push({from:4*t+n,to:4*t+i}),e[t][i].value=e[t][n].value+e[t][i].value,e[t][n].value=0,i++,n++)},moveUp:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"animate",t=this.getChangeLists(e),a=T.a.cloneDeep(T.a.chunk(this.board,4)),n=0;n<a.length;n++)this.mergeUp(a,n,t),this.slideUp(a,n,t)},mergeUp:function(e,t,a){var n=1,i=0;while(n<e.length)0===e[n][t].value&&0===e[i][t].value?(i++,n++):e[n][t].value===e[i][t].value?(a.merge.push({from:4*n+t,to:4*i+t}),e[i][t].value=e[n][t].value+e[i][t].value,e[n][t].value=0,i++,n++):0===e[i][t].value?(i++,n++):0!==e[n][t].value&&0!==e[i][t].value&&n-1===i?(i++,n++):0!==e[n][t].value&&0!==e[i][t].value?i++:0===e[n][t].value&&n++},slideUp:function(e,t,a){var n=1,i=0;while(n<e.length)0!==e[i][t].value?(i++,n++):0!==e[i][t].value&&0!==e[n][t].value?(i++,n++):0===e[i][t].value&&0===e[n][t].value?n++:0===e[i][t].value&&0!==e[n][t].value&&(a.slide.push({from:4*n+t,to:4*i+t}),e[i][t].value=e[n][t].value+e[i][t].value,e[n][t].value=0,i++,n++)},moveDown:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"animate",t=this.getChangeLists(e),a=T.a.cloneDeep(T.a.chunk(this.board,4)),n=0;n<a.length;n++)this.mergeDown(a,n,t),this.slideDown(a,n,t)},mergeDown:function(e,t,a){var n=e.length-2,i=e.length-1;while(n>=0)0===e[n][t].value&&0===e[i][t].value?(i--,n--):e[n][t].value===e[i][t].value?(a.merge.push({from:4*n+t,to:4*i+t}),e[i][t].value=e[n][t].value+e[i][t].value,e[n][t].value=0,i--,n--):0===e[i][t].value?(i--,n--):0!==e[n][t].value&&0!==e[i][t].value&&n+1===i?(i--,n--):0!==e[n][t].value&&0!==e[i][t].value?i--:0===e[n][t].value&&n--},slideDown:function(e,t,a){var n=e.length-2,i=e.length-1;while(n>=0)0!==e[i][t].value?(i--,n--):0!==e[i][t].value&&0!==e[n][t].value?(i--,n--):0===e[i][t].value&&0===e[n][t].value?n--:0===e[i][t].value&&0!==e[n][t].value&&(a.slide.push({from:4*n+t,to:4*i+t}),e[i][t].value=e[n][t].value+e[i][t].value,e[n][t].value=0,i--,n--)},registerControl:function(){var e=this,t=[39,37,38,40];document.addEventListener("keydown",function(a){var n=a.which;T.a.includes(t,n)&&(39===n?e.moveRight():37===n?e.moveLeft():38===n?e.moveUp():40===n&&e.moveDown(),e.animate())})},onPan:function(e){var t=e.direction;0!==t&&(4!==t||8===t&&16===t?2!==t||8===t&&16===t?8!==t||4===t&&2===t?16!==t||4===t&&2===t||this.moveDown():this.moveUp():this.moveLeft():this.moveRight(),this.animate())}}}),j={name:"game",mixins:[$],components:{tile:y,gameMenu:A},data:function(){return{board:[],gameOver:!1}},watch:{allTilesFull:function(e,t){e&&this.checkGameState()}},mounted:function(){this.setupBoard()},computed:{allTilesFull:function(){return!this.board.filter(function(e){return 0===e.value}).length>0}},methods:{checkGameState:function(){this.moveUp("gamestate"),this.moveDown("gamestate"),this.moveLeft("gamestate"),this.moveRight("gamestate"),(!this.mergeGameStateList.length>0||!this.slideGameStateList.length>0)&&(this.gameOver=!0),this.mergeGameStateList=[],this.slideGameStateList=[]},setupBoard:function(){this.newGame(),this.registerControl()},seedTwo:function(){var e=this;if(!this.allTilesFull){var t=function(){var t=Math.floor(Math.random()*e.board.length);return e.board[t]},a=t();while(0!==a.value)a=t();a.value=2}},newGame:function(){this.resetBoard(),this.resetScore(),this.seedTwo(),this.seedTwo(),this.gameOver=!1},resetBoard:function(){this.board=Array.apply(null,{length:16}).map(function(e,t){return{id:t,value:0}})},resetScore:function(){this.$store.dispatch("resetScore")}}},x=j,M=(a("4075"),Object(o["a"])(x,m,f,!1,null,"69c4aaa9",null));M.options.__file="game.vue";var P=M.exports,F={name:"home",components:{Game2048:P}},R=F,U=Object(o["a"])(R,v,h,!1,null,null,null);U.options.__file="Game2048.vue";var I=U.exports;n["a"].use(c["a"]);var N=new c["a"]({routes:[{path:"/",name:"home",component:I},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]}),q=a("2f62");n["a"].use(q["a"]);var V=new q["a"].Store({state:{score:0,best:0},mutations:{updateScore:function(e,t){e.score+=t},updateBest:function(e,t){e.best=t},resetScore:function(e){e.score=0},resetBest:function(e){e.best=0}},actions:{updateScore:function(e,t){e.commit("updateScore",t)},updateBest:function(e,t){e.commit("updateBest",t)},resetScore:function(e){e.commit("resetScore")},resetBest:function(e){e.commit("resetBest")}}}),J=a("c8b5"),Q=a.n(J);a("b5bf"),n["a"].config.productionTip=!1,n["a"].directive("pan",{bind:function(e,t){if("function"===typeof t.value){var a=new Q.a(e);a.get("pan").set({direction:Q.a.DIRECTION_ALL}),a.on("pan",t.value)}}}),new n["a"]({router:N,store:V,render:function(e){return e(l)}}).$mount("#app")},"64a9":function(e,t,a){},c0db:function(e,t,a){},d8c4:function(e,t,a){},efeb:function(e,t,a){},ff46:function(e,t,a){"use strict";var n=a("d8c4"),i=a.n(n);i.a}});
//# sourceMappingURL=app.88a1d5d1.js.map